<!doctype html>
<html ng-app="travelApp">

<head>
	
	<!-- Angular.js -->
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>

	<!-- Site styles -->
	<link rel="stylesheet" href="styles.css" />	
	
</head>

<body ng-controller="travelController">
	
	<ul class="candidates">
		<li class="candidate" ng-repeat="candidate in candidates">
			<div class = "bar" style="background-color:{{candidate.color}}"></div>
			<table class= "bio">
				<tr>
					<td class="name">
						{{candidate.name}} ({{candidate.party}})
					</td>
					<td>
						<div class="portrait" style="background-image: url('assets/{{imageURL(candidate.name)}}'); background-color: {{candidate.color}}"></div>
						
					</td>
				</tr>
			</table>
			
			<div class="verticalLine"></div>
			
			<table class="stats">
				<thead>
					<tr>
						<th>Total trips</th>
						<th>Last seen</th>
						<th class="chart">Most frequently visited states</th>
					</tr>
				</thead>
				<tr>
					<td class="total">
						<h3 style="color: white">{{candidate.total}}</h3>
					</td>
					<td class="last-seen"><h4>{{candidate["last-seen"].city}}, {{candidate["last-seen"].state}}</h4></td>
					
					<td class="chart">
						<div class = "chartContainer" height="{{chartHeight}}">
							<bar ng-class="{toosmall: barHeight(state.count, candidate['most-visited']) <= 20}" ng-repeat="state in candidate['most-visited']" count="{{state.count}}" state="{{state.state}}" ng-style="{width: barWidth(candidate['most-visited']) + '%', height: barHeight(state.count, candidate['most-visited']) + 'px', top: barTop(state.count, candidate['most-visited']) + 'px', left: barLeft(state.state, candidate['most-visited']) + '%', 'background-color': candidate.color}">{{ (barHeight(state.count, candidate['most-visited']) > 20 ) ? state.count : "" }}</bar>
						</div>
					</td>
				
				</tr>
			</table>
			
		</li>
	</ul>
	
</body>

<script src="colors.js"></script>
<script type="text/javascript" src="app.js"></script>

</html>